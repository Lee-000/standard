---
type: template
params:
  number:
    required: true

  dtype:
    required: false
    default: int32

  names:
    required: false
    default: null

  skeleton:
    required: false
    default: null

  visible:
    required: false
    default: null
    options: [null, "BINARY", "TERNARY"]

  categories:
    required: false
    default: null

  categoryDelimiter:
    required: false
    default: null

  attributes:
    required: false
    default: null

declaration:
  type: record
  fields:
    - name: vertices
      type: array
      length: $params.number
      items:
        type: geometry.Keypoint2D
        dtype: $params.dtype
        visible: $params.visible

    - name: category
      exist_if: $params.categories != null
      type: label.Category
      categories: $params.categories
      categoryDelimiter: $params.categoryDelimiter

    - name: attribute
      exist_if: $params.attributes != null
      type: label.Attribute
      attributes: $params.attributes
